<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุฏุฑุช ุณุฑูุณ ุฎุงูู ูพุงูพู</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/vazirmatn@5.0.1/index.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/persian-date-picker-v2@2.2.2/dist/persian-date-picker.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <!-- ุตูุญู ูุฑูุฏ -->
    <div id="loginPage" class="login-container">
        <div class="login-card">
            <h2>๐ ูุฏุฑุช ุณุฑูุณ ุฎุงูู ูพุงูพู</h2>
            <div class="form-group">
                <input type="password" class="form-input" id="loginPassword" placeholder="ุฑูุฒ ูุฑูุฏ">
            </div>
            <button class="btn glow-animation" style="width: 100%;" id="loginBtn">ูุฑูุฏ ุจู ุจุฑูุงูู</button>
            <div class="sync-status" style="margin-top: 15px;">
                <small>ุจุฑุง ุงููู ุจุงุฑ ุงุฒ ุฑูุฒ ูพุดโูุฑุถ "1234" ุงุณุชูุงุฏู ฺฉูุฏ</small>
            </div>
        </div>
    </div>

    <!-- ุจุฑูุงูู ุงุตู -->
    <div id="mainApp" class="container hidden">
        <header>
            <div class="logo">ูุฏุฑุช ุณุฑูุณ ุฎุงูู ูพุงูพู 
                <span id="syncStatus" class="sync-status">
                    <span class="status-indicator status-offline"></span>
                    <span>ุขููุงู</span>
                </span>
            </div>
            <button class="theme-toggle" id="themeToggle">๐</button>
        </header>

        <div class="nav-tabs">
            <div class="nav-tab active" data-target="dashboard">๐ ุฏุงุดุจูุฑุฏ</div>
            <div class="nav-tab" data-target="passengers">๐ฉโ๐ ูุณุงูุฑุงู</div>
            <div class="nav-tab" data-target="transactions">๐ต ุชุฑุงฺฉูุดโูุง</div>
            <div class="nav-tab" data-target="reports">๐ ฺฏุฒุงุฑุดุงุช</div>
            <div class="nav-tab" data-target="settings">โ๏ธ ุชูุธูุงุช</div>
        </div>

        <!-- ุจุฎุด ุฏุงุดุจูุฑุฏ -->
        <div id="dashboard" class="content-section active">
            <div class="dashboard-grid">
                <div class="glass-card stat-card neon-border">
                    <div>ุฏุฑุขูุฏ ุงูุฑูุฒ</div>
                    <div class="stat-value" id="todayIncome">0 ุชููุงู</div>
                    <div>๐ฐ</div>
                </div>
                <div class="glass-card stat-card">
                    <div>ุฏุฑุขูุฏ ููุชู</div>
                    <div class="stat-value" id="weekIncome">0 ุชููุงู</div>
                    <div>๐</div>
                </div>
                <div class="glass-card stat-card">
                    <div>ุฏุฑุขูุฏ ูุงู</div>
                    <div class="stat-value" id="monthIncome">0 ุชููุงู</div>
                    <div>๐</div>
                </div>
                <div class="glass-card stat-card">
                    <div>ููุฌูุฏ ุญุณุงุจ</div>
                    <div class="stat-value" id="totalBalance">0 ุชููุงู</div>
                    <div>๐ณ</div>
                </div>
            </div>

            <div class="glass-card alert-card">
                <div class="alert-header">
                    <i class="bi bi-exclamation-triangle-fill alert-icon"></i>
                    <h3>ูุดุฏุงุฑ: ูุดุชุฑุงู ูพุฑุฏุงุฎุช ูฺฉุฑุฏู</h3>
                    <span class="badge badge-danger" id="unpaidCount">0 ููุฑ</span>
                </div>
                <div class="alert-list" id="unpaidList">
                    <!-- ูุณุช ูุดุชุฑุงู ูพุฑุฏุงุฎุช ูฺฉุฑุฏู -->
                </div>
            </div>

            <div class="glass-card">
                <h3>ุขุฎุฑู ูุฒููโูุง</h3>
                <div class="transaction-list" id="recentExpenses">
                    <!-- ุขุฎุฑู ูุฒููโูุง -->
                </div>
            </div>
        </div>

        <!-- ุจุฎุด ูุฏุฑุช ูุณุงูุฑุงู -->
        <div id="passengers" class="content-section">
            <div class="glass-card">
                <h3>ูุณุช ูุณุงูุฑุงู</h3>
                <button class="btn glow-animation" id="addPassengerBtn"><i class="bi bi-plus"></i> ุงูุฒูุฏู ูุณุงูุฑ</button>
                
                <div class="form-group" style="margin-top: 15px;">
                    <input type="text" class="form-input" id="searchPassenger" placeholder="ุฌุณุชุฌู ุฏุฑ ูุณุงูุฑุงู...">
                </div>
                
                <div class="transaction-list" id="passengersList">
                    <!-- ูุณุงูุฑุงู ุจู ุตูุฑุช ุฏูุงูฺฉ ุงุถุงูู ุฎูุงููุฏ ุดุฏ -->
                </div>
            </div>
        </div>

        <!-- ุจุฎุด ุชุฑุงฺฉูุดโูุง -->
        <div id="transactions" class="content-section">
            <div class="glass-card">
                <h3>ุซุจุช ุชุฑุงฺฉูุด ุฌุฏุฏ</h3>
                <div class="form-group">
                    <select class="form-input" id="transactionType" aria-label="ููุน ุชุฑุงฺฉูุด">
                        <option value="">ููุน ุชุฑุงฺฉูุด</option>
                        <option value="income-cash">ุฏุฑุขูุฏ (ููุฏ)</option>
                        <option value="income-card">ุฏุฑุขูุฏ (ฺฉุงุฑุช)</option>
                        <option value="fuel">โฝ ุณูุฎุช</option>
                        <option value="repair">๐ง ุชุนูุฑุงุช</option>
                        <option value="insurance">๐ ุจูู</option>
                        <option value="car-supplies">๐ ููุงุฒู ุฎูุฏุฑู</option>
                        <option value="other">ุณุงุฑ</option>
                    </select>
                </div>
                <div class="form-group">
                    <select class="form-input" id="transactionPassenger" aria-label="ูุณุงูุฑ">
                        <option value="">ูุณุงูุฑ (ุงุฎุชุงุฑ)</option>
                    </select>
                </div>
                <div class="form-group">
                    <input type="number" class="form-input" id="transactionAmount" placeholder="ูุจูุบ (ุชููุงู)">
                </div>
                <div class="form-group">
                    <input type="text" class="form-input" id="transactionDescription" placeholder="ุชูุถุญุงุช">
                </div>
                <div class="form-group date-input-wrapper">
                    <input type="text" class="form-input date-picker" id="transactionDate" aria-label="ุชุงุฑุฎ ุชุฑุงฺฉูุด" placeholder="ุชุงุฑุฎ ุชุฑุงฺฉูุด">
                    <span class="date-picker-icon">๐</span>
                </div>
                <button class="btn glow-animation" style="width: 100%;" id="saveTransactionBtn"><i class="bi bi-check-lg"></i> ุซุจุช ุชุฑุงฺฉูุด</button>
            </div>

            <div class="glass-card">
                <h3>ุชุงุฑุฎฺู ุชุฑุงฺฉูุดโูุง</h3>
                <div class="form-group">
                    <input type="text" class="form-input" id="filterTransactions" placeholder="ููุชุฑ ุจุฑ ุงุณุงุณ ุชุงุฑุฎ ุง ููุน...">
                </div>
                <div class="transaction-list" id="transactionsList">
                    <!-- ุชุฑุงฺฉูุดโูุง ุจู ุตูุฑุช ุฏูุงูฺฉ ุงุถุงูู ุฎูุงููุฏ ุดุฏ -->
                </div>
            </div>
        </div>

        <!-- ุจุฎุด ฺฏุฒุงุฑุดุงุช -->
        <div id="reports" class="content-section">
            <div class="glass-card">
                <h3>ฺฏุฒุงุฑุด ุฏุฑุขูุฏ ู ูุฒูู - 6 ูุงู ุงุฎุฑ</h3>
                <div class="chart-bar" id="incomeChart">
                    <!-- ูููุฏุงุฑ ุฏุฑุขูุฏ -->
                </div>
            </div>

            <div class="glass-card">
                <h3>ุงุฑุณุงู ุตูุฑุชุญุณุงุจ</h3>
                <div class="form-group">
                    <select class="form-input" id="selectCustomer" aria-label="ุงูุชุฎุงุจ ูุณุงูุฑ">
                        <option value="">ุงูุชุฎุงุจ ูุณุงูุฑ</option>
                    </select>
                </div>
                <div class="form-group date-input-wrapper">
                    <input type="text" class="form-input date-picker" id="fromDate" placeholder="ุงุฒ ุชุงุฑุฎ" aria-label="ุงุฒ ุชุงุฑุฎ">
                    <span class="date-picker-icon">๐</span>
                </div>
                <div class="form-group date-input-wrapper">
                    <input type="text" class="form-input date-picker" id="toDate" placeholder="ุชุง ุชุงุฑุฎ" aria-label="ุชุง ุชุงุฑุฎ">
                    <span class="date-picker-icon">๐</span>
                </div>
                <button class="btn glow-animation" style="width: 100%;" id="generateReportBtn"><i class="bi bi-file-text"></i> ุงุฌุงุฏ ฺฏุฒุงุฑุด</button>
                <button class="btn" style="width: 100%; margin-top: 10px;" id="sendSMSBtn"><i class="bi bi-send"></i> ุงุฑุณุงู ุงุฒ ุทุฑู SMS</button>
            </div>

            <div class="glass-card" id="reportResult" style="display: none;">
                <h3>ูุชุงุฌ ฺฏุฒุงุฑุด</h3>
                <div id="reportContent"></div>
            </div>
        </div>

        <!-- ุจุฎุด ุชูุธูุงุช -->
        <div id="settings" class="content-section">
            <div class="glass-card">
                <h3>ุชูุธูุงุช ุฐุฎุฑูโุณุงุฒ ุงุจุฑ</h3>
                <div class="form-group">
                    <label>GitHub Gist ID:</label>
                    <input type="text" class="form-input" id="gistId" placeholder="ุดูุงุณู Gist (ุงุฎุชุงุฑ)">
                    <small>ุจุฑุง ุฐุฎุฑูโุณุงุฒ ุงุจุฑุ ฺฉ Gist ุนููู ุฏุฑ GitHub ุงุฌุงุฏ ฺฉูุฏ ู ID ุขู ุฑุง ุงูุฌุง ูุงุฑุฏ ฺฉูุฏ</small>
                </div>
                <div class="form-group">
                    <label>GitHub Token:</label>
                    <input type="password" class="form-input" id="githubToken" placeholder="ุชูฺฉู ุฏุณุชุฑุณ GitHub ุฑุง ุงูุฌุง ูุงุฑุฏ ฺฉูุฏ">
                </div>
                <button class="btn" style="width: 100%;" id="saveCloudSettings"><i class="bi bi-cloud-upload"></i> ุฐุฎุฑู ุชูุธูุงุช ุงุจุฑ</button>
                <button class="btn" style="width: 100%; margin-top: 10px;" id="syncNowBtn"><i class="bi bi-arrow-repeat"></i> ููฺฏุงูโุณุงุฒ ุงูุขู</button>
                <button class="btn" style="width: 100%; margin-top: 10px;" id="saveToCloudBtn"><i class="bi bi-cloud-arrow-up"></i> ุฐุฎุฑู ุฏุฑ ุงุจุฑ</button>
                
                <div class="sync-status" id="cloudStatus">
                    <span class="status-indicator status-offline"></span>
                    <span>ููฺฏุงูโุณุงุฒ ุงุจุฑ ุบุฑูุนุงู</span>
                </div>
            </div>

            <div class="glass-card">
                <h3>ุชูุธูุงุช ุงููุช</h3>
                <div class="form-group">
                    <label>ุฑูุฒ ูุฑูุฏ ุฌุฏุฏ:</label>
                    <input type="password" class="form-input" id="newPassword" placeholder="ุฑูุฒ ุฌุฏุฏ">
                </div>
                <div class="form-group">
                    <label>ุชฺฉุฑุงุฑ ุฑูุฒ ูุฑูุฏ:</label>
                    <input type="password" class="form-input" id="confirmPassword" placeholder="ุชฺฉุฑุงุฑ ุฑูุฒ">
                </div>
                <button class="btn" style="width: 100%;" id="changePasswordBtn"><i class="bi bi-lock"></i> ุชุบุฑ ุฑูุฒ ูุฑูุฏ</button>
            </div>

            <div class="glass-card">
                <h3>ูุฏุฑุช ุฏุงุฏูโูุง</h3>
                <div class="form-group">
                    <button class="btn" style="width: 100%;" id="backupDataBtn"><i class="bi bi-download"></i> ูพุดุชุจุงูโฺฏุฑ ุงุฒ ุฏุงุฏูโูุง</button>
                </div>
                <div class="form-group">
                    <button class="btn" style="width: 100%;" id="restoreDataBtn"><i class="bi bi-upload"></i> ุจุงุฒุงุจ ุฏุงุฏูโูุง</button>
                </div>
                <div class="form-group">
                    <button class="btn btn-warning" style="width: 100%;" id="resetDataBtn"><i class="bi bi-arrow-repeat"></i> ุฑุณุช ุจุฑูุงูู</button>
                </div>
                <div class="form-group">
                    <button class="btn btn-danger" style="width: 100%;" id="deleteAllBtn"><i class="bi bi-trash"></i> ุญุฐู ููู ุฏุงุฏูโูุง</button>
                </div>
            </div>
        </div>

        <footer>
            <p>ุงูพูฺฉุดู ูุฏุฑุช ุณุฑูุณ ุฎุงูู ูพุงูพู - ูุณุฎู 2.0</p>
            <p>ฺฉูู ุญููู ูุญููุธ ุงุณุช - 1403 | ุฐุฎุฑูโุณุงุฒ: <span id="storageStatus">ูุญู</span></p>
        </footer>
    </div>

    <!-- ููุฏุงูโูุง -->
    <div class="modal" id="addPassengerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ุงูุฒูุฏู ูุณุงูุฑ ุฌุฏุฏ</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="form-group">
                <input type="text" class="form-input" id="passengerName" placeholder="ูุงู ู ูุงู ุฎุงููุงุฏฺฏ">
            </div>
            <div class="form-group">
                <input type="tel" class="form-input" id="passengerPhone" placeholder="ุดูุงุฑู ุชููู">
            </div>
            <div class="form-group">
                <input type="text" class="form-input" id="passengerAddress" placeholder="ุขุฏุฑุณ">
            </div>
            <div class="form-group">
                <input type="text" class="form-input" id="passengerSchool" placeholder="ูุฏุฑุณู ู ฺฉูุงุณ">
            </div>
            <div class="form-group">
                <input type="number" class="form-input" id="passengerFare" placeholder="ฺฉุฑุงู (ุชููุงู)">
            </div>
            <div class="form-group">
                <select class="form-input" id="passengerPaymentType" aria-label="ููุน ูพุฑุฏุงุฎุช">
                    <option value="daily">ุฑูุฒุงูู</option>
                    <option value="monthly">ูุงูุงูู</option>
                </select>
            </div>
            <button class="btn glow-animation" style="width: 100%;" id="savePassengerBtn"><i class="bi bi-check-lg"></i> ุฐุฎุฑู ูุณุงูุฑ</button>
        </div>
    </div>

    <div class="modal" id="editPassengerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ูุฑุงุด ูุณุงูุฑ</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="form-group">
                <input type="text" class="form-input" id="editPassengerName" placeholder="ูุงู ู ูุงู ุฎุงููุงุฏฺฏ">
            </div>
            <div class="form-group">
                <input type="tel" class="form-input" id="editPassengerPhone" placeholder="ุดูุงุฑู ุชููู">
            </div>
            <div class="form-group">
                <input type="text" class="form-input" id="editPassengerAddress" placeholder="ุขุฏุฑุณ">
            </div>
            <div class="form-group">
                <input type="text" class="form-input" id="editPassengerSchool" placeholder="ูุฏุฑุณู ู ฺฉูุงุณ">
            </div>
            <div class="form-group">
                <input type="number" class="form-input" id="editPassengerFare" placeholder="ฺฉุฑุงู (ุชููุงู)">
            </div>
            <div class="form-group">
                <select class="form-input" id="editPassengerPaymentType" aria-label="ููุน ูพุฑุฏุงุฎุช">
                    <option value="daily">ุฑูุฒุงูู</option>
                    <option value="monthly">ูุงูุงูู</option>
                </select>
            </div>
            <div class="action-buttons">
                <button class="btn btn-danger" id="deletePassengerBtn"><i class="bi bi-trash"></i> ุญุฐู</button>
                <button class="btn glow-animation" id="updatePassengerBtn"><i class="bi bi-check-lg"></i> ุจูโุฑูุฒุฑุณุงู</button>
            </div>
        </div>
    </div>

    <div class="modal" id="confirmModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="confirmModalTitle">ุชุงุฏ ุนูู</h3>
                <button class="close-modal">&times;</button>
            </div>
            <p id="confirmModalMessage">ุขุง ุงุฒ ุงูุฌุงู ุงู ุนูู ูุทูุฆู ูุณุชุฏุ</p>
            <div class="action-buttons">
                <button class="btn" id="confirmModalCancel">ูุบู</button>
                <button class="btn btn-danger" id="confirmModalConfirm">ุชุงุฏ</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/moment.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/moment-jalaali@0.9.2/build/moment-jalaali.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/persian-date-picker-v2@2.2.2/dist/persian-date-picker.min.js" defer></script>
    <script src="assets/js/app.js" defer></script>
</body>
</html>
